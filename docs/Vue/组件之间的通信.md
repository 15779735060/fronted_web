### 组件之间的通信
&emsp;&emsp;vue是数据驱动视图更新的框架, 所以对于vue来说组件间的数据通信非常重要，那么组件之间如何进行数据通信的呢？ 首先我们需要知道在vue中组件之间存在什么样的关系, 才更容易理解他们的通信方式。组件之间关系大致分为三种，分别是父子组件、隔代组件、兄弟组件。下面会着重讲解这三种组件关系的通信方式。
#### 父子组件通信
+ **props / emit**</br>
&emsp;&emsp;最常见的通信方式，父组件用v-bind向子组件传入属性，而子组件用props进行接受。当然在子组件中需要更改父组件传入的数据，就需要用emit通知父组件去更改，因为Vue是单向数据流，在子组件里面不可以直接更改父组件的值，如下所示：
```vue
<!-- Son.vue -->
<template>
  <div>
    <div>{{$props.age}}</div>
    <button v-on:click="changeAge">++</button>
  </div>
</template>
<script>
  export default {
    props:{
      age:{
        //定义类型
        type:Number,
        //默认值（父组件不传的情况下）
        default:0
      }
    },
    methods:{
      changeAge:function(){
        //通知父组件更新
        this.$emit('change',this.$props.age+1)
      }
    }
  }
</script>
<!-- Parent.vue -->
<template>
  <div>
    <Son v-bind:age="age" v-on:change="changeAge"></Son>
  </div>
</template>
<script>
  import Son from './Son.vue'
  export default {
    components:{
      Son
    },
    data(){
      return {
        age:24
      }
    },
    methods:{
      changeAge:function(value){
        this.age=value
      }
    }
  }
</script>
```
+ **$children / $parent**</br>
&emsp;&emsp;在父子组件里面，各自的组件实例上会有$children，$parent属性，分别可以拿到子与父的实例。通过实例来进行父子之间的通信。需要注意的是，应该节制的使用该方法，会造各组件间的数据修改溯源困难，因此更推荐props / emit方式。具体使用如下所示：
```vue
<!-- Son.vue -->
<template>
  <div>
    <div>{{$props.age}}</div>
    <button v-on:click="changeAge">++</button>
  </div>
</template>
<script>
  export default {
    props:{
      age:{
        //定义类型
        type:Number,
        //默认值（父组件不传的情况下）
        default:0
      }
    },
    methods:{
      changeAge:function(){
        //拿到父组件实例，直接更新数据
        this.$parent.Parent.age=this.$props.age+1
      }
    }
  }
</script>
<!-- Parent.vue -->
<template>
  <div>
    <Son v-bind:age="age"></Son>
  </div>
</template>
<script>
  import Son from './Son.vue'
  export default {
    components:{
      Son
    },
    data(){
      return {
        age:24
      }
    },
    mounted(){
      //拿到子组件实例
      consloe.log(this.$parent.Son)
    }
  }
</script>
```
